{"version":3,"file":"auth.js","sources":["../../../../../../src/material/auth/logout-confirm-dialog.ts","../../../../../../src/material/auth/auth-user-interactions.ts","../../../../../../src/material/auth/login.ts","../../../../../../src/material/auth/auth-module.ts","../../../../../../src/material/auth/public-api.ts","../../../../../../src/material/auth/index.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectionStrategy, Component, ViewEncapsulation} from '@angular/core';\n\n/**\n * The dialog will close with true if user clicks the ok button,\n * otherwise it will close with undefined.\n */\n@Component({\n  selector: 'gngt-logout-confirm',\n  templateUrl: 'logout-confirm-dialog.html',\n  styleUrls: ['logout-confirm-dialog.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class LogoutConfirmDialogComponent {\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {MatDialog} from '@angular/material/dialog';\nimport {MatSnackBar} from '@angular/material/snack-bar';\nimport {AuthUserInteractionsService as CoreAuthUserInteractionsService} from '@gngt/core/auth';\nimport {Observable} from 'rxjs';\n\nimport {LogoutConfirmDialogComponent} from './logout-confirm-dialog';\n\nexport class AuthUserInteractionsService extends CoreAuthUserInteractionsService {\n  constructor(private _dialog: MatDialog, private _snackBar: MatSnackBar) {\n    super();\n  }\n\n  askLogoutConfirm(): Observable<boolean> {\n    return this._dialog.open(LogoutConfirmDialogComponent).afterClosed();\n  }\n\n  showLoginError(error: string): void {\n    this._snackBar.open(error, undefined, {duration: 3000});\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {BooleanInput} from '@angular/cdk/coercion';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  ViewEncapsulation\n} from '@angular/core';\nimport {FormBuilder} from '@angular/forms';\nimport {MatFormFieldAppearance} from '@angular/material/form-field';\nimport {LoginComponent as CoreLoginComponent, State as AuthState} from '@gngt/core/auth';\nimport {Store} from '@ngrx/store';\n\n@Component({\n  selector: 'gngt-login',\n  templateUrl: 'login.html',\n  styleUrls: ['login.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class LoginComponent extends CoreLoginComponent {\n  private _fieldsAppearance: MatFormFieldAppearance = 'legacy';\n  get fieldsAppearance(): MatFormFieldAppearance {\n    return this._fieldsAppearance;\n  }\n  @Input()\n  set fieldsAppearance(fieldsAppearance: MatFormFieldAppearance) {\n    this._fieldsAppearance = fieldsAppearance;\n    this._cdr.markForCheck();\n  }\n\n  private _usernamePrefixSvgIcon: string;\n  get usernamePrefixSvgIcon(): string {\n    return this._usernamePrefixSvgIcon;\n  }\n  @Input()\n  set usernamePrefixSvgIcon(usernamePrefixSvgIcon: string) {\n    this._usernamePrefixSvgIcon = usernamePrefixSvgIcon;\n    this._cdr.markForCheck();\n  }\n\n  private _usernameSuffixSvgIcon: string;\n  get usernameSuffixSvgIcon(): string {\n    return this._usernameSuffixSvgIcon;\n  }\n  @Input()\n  set usernameSuffixSvgIcon(usernameSuffixSvgIcon: string) {\n    this._usernameSuffixSvgIcon = usernameSuffixSvgIcon;\n    this._cdr.markForCheck();\n  }\n\n  private _passwordPrefixSvgIcon: string;\n  get passwordPrefixSvgIcon(): string {\n    return this._passwordPrefixSvgIcon;\n  }\n  @Input()\n  set passwordPrefixSvgIcon(passwordPrefixSvgIcon: string) {\n    this._passwordPrefixSvgIcon = passwordPrefixSvgIcon;\n    this._cdr.markForCheck();\n  }\n\n  private _passwordSuffixSvgIcon: string;\n  get passwordSuffixSvgIcon(): string {\n    return this._passwordSuffixSvgIcon;\n  }\n  @Input()\n  set passwordSuffixSvgIcon(passwordSuffixSvgIcon: string) {\n    this._passwordSuffixSvgIcon = passwordSuffixSvgIcon;\n    this._cdr.markForCheck();\n  }\n\n  constructor(fb: FormBuilder, store: Store<AuthState>, cdr: ChangeDetectorRef) {\n    super(fb, store, cdr);\n  }\n\n  static ngAcceptInputType_showLabels: BooleanInput;\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {CommonModule} from '@angular/common';\nimport {HTTP_INTERCEPTORS} from '@angular/common/http';\nimport {ModuleWithProviders, NgModule} from '@angular/core';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatDialog, MatDialogModule} from '@angular/material/dialog';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatSnackBar, MatSnackBarModule} from '@angular/material/snack-bar';\nimport {\n  AUTH_OPTIONS,\n  AuthModule as CoreAuthModule,\n  AuthModuleOptions,\n  AuthUserInteractionsService as CoreAuthUserInteractionsService,\n  JWT_OPTIONS,\n  JwtHelperService,\n  JwtInterceptor\n} from '@gngt/core/auth';\nimport {CommonModule as GngtCommonModule} from '@gngt/core/common';\n\nimport {AuthUserInteractionsService} from './auth-user-interactions';\nimport {LoginComponent} from './login';\nimport {LogoutConfirmDialogComponent} from './logout-confirm-dialog';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    CoreAuthModule,\n    GngtCommonModule,\n    MatButtonModule,\n    MatDialogModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatInputModule,\n    MatSnackBarModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [\n    LoginComponent,\n    LogoutConfirmDialogComponent,\n  ],\n  exports: [\n    LoginComponent,\n  ],\n  entryComponents: [\n    LogoutConfirmDialogComponent,\n  ],\n  providers: [{\n    provide: CoreAuthUserInteractionsService,\n    useClass: AuthUserInteractionsService,\n    deps: [MatDialog, MatSnackBar]\n  }]\n})\nexport class AuthModule {\n  static forRoot(options: AuthModuleOptions): ModuleWithProviders<AuthModule> {\n    return {\n      ngModule: AuthModule,\n      providers: [\n        JwtHelperService,\n        options.authOptionsProvider || {provide: AUTH_OPTIONS, useValue: options.authConfig},\n        options.jwtOptionsProvider || {provide: JWT_OPTIONS, useValue: options.jwtConfig},\n        {provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true},\n      ]\n    };\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport * from './auth-module';\nexport * from './login';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {AuthUserInteractionsService as ɵgc_gngt_src_material_auth_auth_b} from './auth-user-interactions';\nexport {LogoutConfirmDialogComponent as ɵgc_gngt_src_material_auth_auth_a} from './logout-confirm-dialog';"],"names":["CoreAuthUserInteractionsService","CoreLoginComponent","CoreAuthModule","GngtCommonModule"],"mappings":";;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;AAuBA;;;;MAWa,4BAA4B;;;YAPxC,SAAS,SAAC;gBACT,QAAQ,EAAE,qBAAqB;gBAC/B,qUAAyC;gBAEzC,eAAe,EAAE,uBAAuB,CAAC,MAAM;gBAC/C,aAAa,EAAE,iBAAiB,CAAC,IAAI;;aACtC;;;ACjCD;;;;;;;;;;;;;;;;;;;;MA4Ba,2BAA4B,SAAQA,6BAA+B;IAC9E,YAAoB,OAAkB,EAAU,SAAsB;QACpE,KAAK,EAAE,CAAC;QADU,YAAO,GAAP,OAAO,CAAW;QAAU,cAAS,GAAT,SAAS,CAAa;KAErE;IAED,gBAAgB;QACd,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC,WAAW,EAAE,CAAC;KACtE;IAED,cAAc,CAAC,KAAa;QAC1B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,SAAS,EAAE,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC;KACzD;;;ACvCH;;;;;;;;;;;;;;;;;;;;MAyCa,cAAe,SAAQC,gBAAkB;IAmDpD,YAAY,EAAe,EAAE,KAAuB,EAAE,GAAsB;QAC1E,KAAK,CAAC,EAAE,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;QAnDhB,sBAAiB,GAA2B,QAAQ,CAAC;KAoD5D;IAnDD,IAAI,gBAAgB;QAClB,OAAO,IAAI,CAAC,iBAAiB,CAAC;KAC/B;IACD,IACI,gBAAgB,CAAC,gBAAwC;QAC3D,IAAI,CAAC,iBAAiB,GAAG,gBAAgB,CAAC;QAC1C,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;KAC1B;IAGD,IAAI,qBAAqB;QACvB,OAAO,IAAI,CAAC,sBAAsB,CAAC;KACpC;IACD,IACI,qBAAqB,CAAC,qBAA6B;QACrD,IAAI,CAAC,sBAAsB,GAAG,qBAAqB,CAAC;QACpD,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;KAC1B;IAGD,IAAI,qBAAqB;QACvB,OAAO,IAAI,CAAC,sBAAsB,CAAC;KACpC;IACD,IACI,qBAAqB,CAAC,qBAA6B;QACrD,IAAI,CAAC,sBAAsB,GAAG,qBAAqB,CAAC;QACpD,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;KAC1B;IAGD,IAAI,qBAAqB;QACvB,OAAO,IAAI,CAAC,sBAAsB,CAAC;KACpC;IACD,IACI,qBAAqB,CAAC,qBAA6B;QACrD,IAAI,CAAC,sBAAsB,GAAG,qBAAqB,CAAC;QACpD,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;KAC1B;IAGD,IAAI,qBAAqB;QACvB,OAAO,IAAI,CAAC,sBAAsB,CAAC;KACpC;IACD,IACI,qBAAqB,CAAC,qBAA6B;QACrD,IAAI,CAAC,sBAAsB,GAAG,qBAAqB,CAAC;QACpD,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;KAC1B;;;YAxDF,SAAS,SAAC;gBACT,QAAQ,EAAE,YAAY;gBACtB,siDAAyB;gBAEzB,eAAe,EAAE,uBAAuB,CAAC,MAAM;gBAC/C,aAAa,EAAE,iBAAiB,CAAC,IAAI;;aACtC;;;YAXO,WAAW;YAGX,KAAK;YARX,iBAAiB;;;+BAsBhB,KAAK;oCAUL,KAAK;oCAUL,KAAK;oCAUL,KAAK;oCAUL,KAAK;;;ACtFR;;;;;;;;;;;;;;;;;;;;MA2Ea,UAAU;IACrB,OAAO,OAAO,CAAC,OAA0B;QACvC,OAAO;YACL,QAAQ,EAAE,UAAU;YACpB,SAAS,EAAE;gBACT,gBAAgB;gBAChB,OAAO,CAAC,mBAAmB,IAAI,EAAC,OAAO,EAAE,YAAY,EAAE,QAAQ,EAAE,OAAO,CAAC,UAAU,EAAC;gBACpF,OAAO,CAAC,kBAAkB,IAAI,EAAC,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,OAAO,CAAC,SAAS,EAAC;gBACjF,EAAC,OAAO,EAAE,iBAAiB,EAAE,QAAQ,EAAE,cAAc,EAAE,KAAK,EAAE,IAAI,EAAC;aACpE;SACF,CAAC;KACH;;;YAxCF,QAAQ,SAAC;gBACR,OAAO,EAAE;oBACP,YAAY;oBACZC,YAAc;oBACdC,cAAgB;oBAChB,eAAe;oBACf,eAAe;oBACf,kBAAkB;oBAClB,aAAa;oBACb,cAAc;oBACd,iBAAiB;oBACjB,mBAAmB;iBACpB;gBACD,YAAY,EAAE;oBACZ,cAAc;oBACd,4BAA4B;iBAC7B;gBACD,OAAO,EAAE;oBACP,cAAc;iBACf;gBACD,eAAe,EAAE;oBACf,4BAA4B;iBAC7B;gBACD,SAAS,EAAE,CAAC;wBACV,OAAO,EAAEH,6BAA+B;wBACxC,QAAQ,EAAE,2BAA2B;wBACrC,IAAI,EAAE,CAAC,SAAS,EAAE,WAAW,CAAC;qBAC/B,CAAC;aACH;;;AC1ED;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;"}