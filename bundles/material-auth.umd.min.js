/**
 * @license
 * Copyright (C) 2018 Gnucoop soc. coop.
 *
 * This file is part of the Gnucoop Angular Toolkit (gngt).
 *
 * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.
 *
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/common/http"),require("@angular/core"),require("@angular/forms"),require("@angular/material/button"),require("@angular/material/card"),require("@angular/material/dialog"),require("@angular/material/form-field"),require("@angular/material/input"),require("@angular/material/snack-bar"),require("@ngx-translate/core"),require("@gngt/core/auth"),require("@gngt/core/common"),require("@ngrx/store")):"function"==typeof define&&define.amd?define("@gngt/material/auth",["exports","@angular/common","@angular/common/http","@angular/core","@angular/forms","@angular/material/button","@angular/material/card","@angular/material/dialog","@angular/material/form-field","@angular/material/input","@angular/material/snack-bar","@ngx-translate/core","@gngt/core/auth","@gngt/core/common","@ngrx/store"],e):e(((t=t||self).dewco=t.dewco||{},t.dewco.material=t.dewco.material||{},t.dewco.material.auth={}),t.ng.common,t.ng.common.http,t.ng.core,t.ng.forms,t.ng.material.button,t.ng.material.card,t.ng.material.dialog,t.ng.material.formField,t.ng.material.input,t.ng.material.snackBar,t.ngxt.core,t.gngt.core.auth,t.gngt.core.common,t.ngrx.store)}(this,function(t,o,a,r,n,i,l,u,c,g,s,m,d,p,e){"use strict";var f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};function h(t,e){function o(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var y=function(){function t(){}return t.decorators=[{type:r.Component,args:[{selector:"gngt-logout-confirm",template:'<h2 mat-dialog-title>Logout</h2><mat-dialog-content translate>Are you sure you want to logout?</mat-dialog-content><mat-dialog-actions><button mat-button [mat-dialog-close]="false" translate>Cancel</button> <button mat-button [mat-dialog-close]="true" translate>OK</button></mat-dialog-actions>',styles:["gngt-logout-confirm{display:block;width:100%;max-width:300px}gngt-logout-confirm mat-dialog-actions{display:flex;justify-content:flex-end}gngt-logout-confirm [mat-button]{padding:0}"],changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None}]}],t}(),b=function(a){function t(t,e){var o=a.call(this)||this;return o.dialog=t,o.snackBar=e,o}return h(t,a),t.prototype.askLogoutConfirm=function(){return this.dialog.open(y).afterClosed()},t.prototype.showLoginError=function(t){this.snackBar.open(t,void 0,{duration:3e3})},t}(d.AuthUserInteractionsService),M=function(a){function t(t,e,o){return a.call(this,t,e,o)||this}return h(t,a),t.decorators=[{type:r.Component,args:[{selector:"gngt-login",template:'<mat-card><h2 mat-card-title translate>Login</h2><mat-card-content><form [formGroup]="loginForm" [gngtFormDisabled]="disabled" class="login-form" (keyup.enter)="login()"><mat-form-field><input matInput [placeholder]="\'Username\'|translate" autocomplete="username" formControlName="username"></mat-form-field><mat-form-field><input matInput [placeholder]="\'Password\'|translate" type="password" autocomplete="current-password" formControlName="password"></mat-form-field></form></mat-card-content><mat-card-actions><button mat-button translate color="primary" [disabled]="(valid|async) === false" (click)="login()">Login</button></mat-card-actions></mat-card>',styles:["gngt-login{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center}gngt-login .mat-form-field{width:100%}gngt-login .mat-card-actions{text-align:right}"],changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None,inputs:["disabled"]}]}],t.ctorParameters=function(){return[{type:n.FormBuilder},{type:e.Store},{type:r.ChangeDetectorRef}]},t}(d.LoginComponent),w=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:a.HTTP_INTERCEPTORS,useClass:d.JwtInterceptor,multi:!0},t.jwtOptionsProvider||{provide:d.JWT_OPTIONS,useValue:t.jwtConfig},t.authOptionsProvider||{provide:d.AUTH_OPTIONS,useValue:t.authConfig},d.JwtHelperService]}},e.decorators=[{type:r.NgModule,args:[{imports:[o.CommonModule,n.ReactiveFormsModule,i.MatButtonModule,l.MatCardModule,u.MatDialogModule,c.MatFormFieldModule,g.MatInputModule,s.MatSnackBarModule,m.TranslateModule,d.AuthModule,p.CommonModule],declarations:[M,y],exports:[M],entryComponents:[y],providers:[{provide:d.AuthUserInteractionsService,useClass:b,deps:[u.MatDialog,s.MatSnackBar]}]}]}],e}();t.AuthModule=w,t.LoginComponent=M,t.ɵb=b,t.ɵa=y,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=material-auth.umd.min.js.map
